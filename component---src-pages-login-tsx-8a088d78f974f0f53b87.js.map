{"version":3,"file":"component---src-pages-login-tsx-8a088d78f974f0f53b87.js","mappings":"sNAUA,MAAMA,EAAgBC,EAAAA,GAkFtB,UAhFcC,KACZ,MAAM,EAACC,EAAK,EAAEC,IAAYC,EAAAA,EAAAA,UAAS,KAC7B,EAACC,EAAQ,EAAEC,IAAeF,EAAAA,EAAAA,UAAS,KACnC,EAACG,EAAK,EAAEC,IAAYJ,EAAAA,EAAAA,UAAS,IAEnCK,QAAQC,IAAI,OAAQX,GAEpB,MAAM,EAAEY,EAAC,KAAEC,IAASC,EAAAA,EAAAA,kBACAD,EAAKE,SAqBzB,OACEC,EAAAA,cAAAA,EAAAA,SAAA,KACEA,EAAAA,cAACC,EAAAA,EAAM,KACLD,EAAAA,cAAA,aAAQJ,EAAE,wBACVI,EAAAA,cAAA,QAAME,KAAK,cAAcC,QAASP,EAAE,uBAAyB,MAE/DI,EAAAA,cAACI,EAAAA,QAAM,CAACnB,KAAMD,GACZgB,EAAAA,cAAA,OAAKK,UAAU,yDACbL,EAAAA,cAAA,QAAMM,SAxBMC,UAClBC,EAAEC,iBACF,IACE,MAKMC,SALuBC,EAAAA,EAAAA,IAC3BC,EAAAA,EACAzB,EACAG,IAE0BoB,KAC5BhB,QAAQC,IAAI,SAAqBe,EAAKG,QACtCC,EAAAA,EAAAA,UAAS,SAAqBJ,EAAKG,MACrC,CAAE,MAAOrB,GACPC,EAAUD,EAAgBuB,QAC5B,GAWmCV,UAAWW,EAAOC,UAAWC,GAAG,SAC3DlB,EAAAA,cAAA,MAAIK,UAAWW,EAAOG,OAAQvB,EAAE,UAChCI,EAAAA,cAAA,OAAKK,UAAWW,EAAOI,WACrBpB,EAAAA,cAAA,SAAOqB,QAAQ,QAAQhB,UAAWW,EAAOM,OACtC1B,EAAE,UAELI,EAAAA,cAAA,SACEuB,KAAK,QACLL,GAAG,QACHM,YAAY,qBACZC,MAAOtC,EACPuC,SAAWlB,GAAMpB,EAASoB,EAAEmB,OAAOF,OACnCG,UAAQ,EACRvB,UAAWW,EAAOa,SAGtB7B,EAAAA,cAAA,OAAKK,UAAWW,EAAOI,WACrBpB,EAAAA,cAAA,SAAOqB,QAAQ,WAAWhB,UAAWW,EAAOM,OACzC1B,EAAE,aAELI,EAAAA,cAAA,SACEuB,KAAK,WACLL,GAAG,WACHM,YAAY,aACZC,MAAOnC,EACPoC,SAAWlB,GAAMjB,EAAYiB,EAAEmB,OAAOF,OACtCpB,UAAWW,EAAOa,MAClBD,UAAQ,KAGZ5B,EAAAA,cAAA,OAAKK,UAAWW,EAAOI,WACrBpB,EAAAA,cAAA,UAAQK,UAAWW,EAAOc,aAAcP,KAAK,UAC1C3B,EAAE,WAGNJ,GAASQ,EAAAA,cAAA,KAAGK,UAAWW,EAAOD,SAAUvB,MAI9C,EAMA,MAcDwB,EAAS,CACbC,UAAW,gEACXE,MAAO,gDACPG,MAAO,8BACPO,MACE,kHACFC,aACE,8FACFV,UAAW,OACXL,QAAS,0C","sources":["webpack://coach-ana-briones/./src/pages/login.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { graphql, navigate } from \"gatsby\";\nimport { signInWithEmailAndPassword } from \"firebase/auth\";\nimport { auth } from \"../firebaseConfig\";\nimport Layout from \"./layout\";\nimport { Company } from \"../interfaces\";\nimport data from \"../data/data.json\";\nimport { useTranslation } from \"gatsby-plugin-react-i18next\";\nimport { Helmet } from \"react-helmet\";\n\nconst info: Company = data[0];\n\nconst Login = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  console.log(\"info\", info);\n  \n  const { t, i18n } = useTranslation();\n  const currentLang = i18n.language;\n  const langPrefix = currentLang === \"en\" ? \"/\" : currentLang === \"es\" ? \"/\" : \"/\"; // Determina el prefijo del idioma\n\n  \n  \n  const handleLogin = async (e: React.SyntheticEvent) => {\n    e.preventDefault();\n    try {\n      const userCredential = await signInWithEmailAndPassword(\n        auth,\n        email,\n        password\n      );\n      const user = userCredential.user;\n      console.log(`${langPrefix}user/${user.uid}` as unknown as number)\n      navigate(`${langPrefix}user/${user.uid}` as unknown as number);\n    } catch (error) {\n      setError((error as Error).message);\n    }\n  };\n\n  return (\n    <>\n      <Helmet>\n        <title>{t(\"keywords.titleLogin\")}</title>\n        <meta name=\"description\" content={t(\"keywords.metaLogin\") || \"\"} />\n      </Helmet>\n      <Layout data={info}>\n        <div className=\"bg-terciary py-8 sm:py-2 login px-4 flex items-center\">\n          <form onSubmit={handleLogin} className={styles.container} id=\"login\">\n            <h1 className={styles.title}>{t(\"login\")}</h1>\n            <div className={styles.groupItem}>\n              <label htmlFor=\"email\" className={styles.label}>\n                {t(\"email\")}\n              </label>\n              <input\n                type=\"email\"\n                id=\"email\"\n                placeholder=\"Correo Electrónico\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                required\n                className={styles.input}\n              />\n            </div>\n            <div className={styles.groupItem}>\n              <label htmlFor=\"password\" className={styles.label}>\n                {t(\"password\")}\n              </label>\n              <input\n                type=\"password\"\n                id=\"password\"\n                placeholder=\"Contraseña\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                className={styles.input}\n                required\n              />\n            </div>\n            <div className={styles.groupItem}>\n              <button className={styles.submitButton} type=\"submit\">\n                {t(\"login\")}\n              </button>\n            </div>\n            {error && <p className={styles.message}>{error}</p>}\n          </form>\n        </div>\n      </Layout>\n    </>\n  );\n};\n\nexport default Login;\n\nexport const query = graphql`\n  query ($language: String!) {\n    locales: allLocale(filter: { language: { eq: $language } }) {\n      edges {\n        node {\n          ns\n          data\n          language\n        }\n      }\n    }\n  }\n`;\n\nconst styles = {\n  container: \"bg-secondary p-8 rounded-lg shadow-md w-full max-w-md mx-auto\",\n  title: \"text-2xl font-bold mb-6 text-dark text-center\",\n  label: \"block text-dark font-medium\",\n  input:\n    \"w-full text-dark px-4 py-2 border border-terciary rounded-lg focus:outline-none focus:ring-2 focus:ring-primary\",\n  submitButton:\n    \"w-full bg-dark text-white py-2 px-4 rounded-lg hover:bg-terciary hover:text-dark transition\",\n  groupItem: \"mb-4\",\n  message: \"mt-4 text-center text-white font-medium\",\n};\n"],"names":["info","data","Login","email","setEmail","useState","password","setPassword","error","setError","console","log","t","i18n","useTranslation","language","React","Helmet","name","content","Layout","className","onSubmit","async","e","preventDefault","user","signInWithEmailAndPassword","auth","uid","navigate","message","styles","container","id","title","groupItem","htmlFor","label","type","placeholder","value","onChange","target","required","input","submitButton"],"sourceRoot":""}