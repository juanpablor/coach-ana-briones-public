"use strict";(self.webpackChunkcoach_ana_briones=self.webpackChunkcoach_ana_briones||[]).push([[476],{4977:function(e,t,a){a.r(t),a.d(t,{default:function(){return o}});var r=a(6540),n=a(2794),s=a(2405),l=a(8693);var c=e=>{let{children:t}=e;const{0:a,1:c}=(0,r.useState)(!0),{0:i,1:d}=(0,r.useState)(!1);return(0,r.useEffect)((()=>{(async()=>{const e=n.j.currentUser;if(!e)return void(0,l.navigate)("/login");const t=await(0,s.x7)((0,s.H9)(n.db,"users",e.uid));t.exists()&&"admin"===t.data().role?d(!0):(0,l.navigate)("/not-authorized"),c(!1)})()}),[]),a?r.createElement("p",null,"Cargando..."):i?r.createElement(r.Fragment,null,t):null},i=a(4959);var d=()=>{const{0:e,1:t}=(0,r.useState)([]);(0,r.useEffect)((()=>{(async()=>{const e=(0,s.P)((0,s.rJ)(n.db,"users"),(0,s._M)("isApproved","==",!1)),a=(await(0,s.GG)(e)).docs.map((e=>Object.assign({id:e.id},e.data())));t(a)})()}),[]);return r.createElement("div",{className:"min-h-screen bg-secondary flex flex-col items-center p-6"},r.createElement("div",{className:"w-full max-w-4xl bg-dark shadow-lg rounded-lg p-6"},r.createElement("div",{className:"flex justify-between items-center mb-6"},r.createElement("h2",{className:"text-2xl font-bold text-light"},"Usuarios Pendientes de Aprobación"),r.createElement("button",{onClick:async()=>{try{await(0,i.CI)(n.j),(0,l.navigate)("/")}catch(e){console.error("Error al cerrar sesión:",e),alert("Error al cerrar sesión. Intenta nuevamente.")}},className:"px-4 py-2 bg-red-500 text-white rounded-lg shadow hover:bg-red-600 transition"},"Cerrar Sesión")),r.createElement("ul",{className:"space-y-4"},e.map((a=>r.createElement("li",{key:a.id,className:"flex justify-between items-center bg-light p-4 rounded-lg shadow-md"},r.createElement("div",null,r.createElement("p",{className:"text-lg font-medium text-dark"},a.name),r.createElement("p",{className:"text-sm text-dark"},a.email),r.createElement("p",{className:"text-sm text-dark"},a.phone),r.createElement("p",{className:"text-sm text-dark"},a.address),r.createElement("p",{className:"text-sm text-dark"},a.postalCode),r.createElement("p",{className:"text-sm text-dark"},a.country)),r.createElement("button",{onClick:()=>(async a=>{const r=(0,s.H9)(n.db,"users",a);await(0,s.mZ)(r,{isApproved:!0}),t(e.filter((e=>e.id!==a)))})(a.id),className:"px-4 py-2 bg-dark text-light rounded-lg shadow hover:bg-secondary hover:text-dark transition"},"Aprobar"))))),0===e.length&&r.createElement("p",{className:"text-center text-gray-600 mt-6"},"No hay usuarios pendientes de aprobación.")))};var o=()=>r.createElement(c,null,r.createElement(d,null))}}]);
//# sourceMappingURL=component---src-pages-admin-tsx-cb275c6f15cc3f12e3ca.js.map