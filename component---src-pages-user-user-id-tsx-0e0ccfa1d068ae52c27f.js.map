{"version":3,"file":"component---src-pages-user-user-id-tsx-0e0ccfa1d068ae52c27f.js","mappings":"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","sources":["webpack://coach-ana-briones/./src/pages/login.tsx","webpack://coach-ana-briones/./src/templates/UserSpace.tsx","webpack://coach-ana-briones/./src/components/protectedRoute.tsx","webpack://coach-ana-briones/./src/pages/user/[userId].tsx","webpack://coach-ana-briones/./node_modules/react-router/node_modules/cookie/dist/index.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { graphql, navigate } from \"gatsby\";\nimport { signInWithEmailAndPassword } from \"firebase/auth\";\nimport { auth } from \"../firebaseConfig\";\nimport Layout from \"./layout\";\nimport { Company } from \"../interfaces\";\nimport data from \"../data/data.json\";\nimport { useTranslation } from \"gatsby-plugin-react-i18next\";\n\nconst info: Company = data[0];\n\nconst Login = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const { t } = useTranslation();\n\n  const handleLogin = async (e: React.SyntheticEvent) => {\n    e.preventDefault();\n    try {\n      const userCredential = await signInWithEmailAndPassword(\n        auth,\n        email,\n        password\n      );\n      const user = userCredential.user;\n      navigate(`/user/${user.uid}` as unknown as number);\n    } catch (error) {\n      setError((error as Error).message);\n    }\n  };\n\n  return (\n    <Layout data={info}>\n      <div className=\"bg-terciary py-8 login px-4\">\n        <form onSubmit={handleLogin} className={styles.container} id=\"login\">\n          <h1 className={styles.title}>{t(\"login\")}</h1>\n          <div className={styles.groupItem}>\n            <label htmlFor=\"email\" className={styles.label}>\n              {t(\"email\")}\n            </label>\n            <input\n              type=\"email\"\n              id=\"email\"\n              placeholder=\"Correo Electrónico\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              required\n              className={styles.input}\n            />\n          </div>\n          <div className={styles.groupItem}>\n            <label htmlFor=\"password\" className={styles.label}>\n              {t(\"password\")}\n            </label>\n            <input\n              type=\"password\"\n              id=\"password\"\n              placeholder=\"Contraseña\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              className={styles.input}\n              required\n            />\n          </div>\n          <div className={styles.groupItem}>\n            <button className={styles.submitButton} type=\"submit\">\n              {t(\"login\")}\n            </button>\n          </div>\n          {error && <p className={styles.message}>{error}</p>}\n        </form>\n      </div>\n    </Layout>\n  );\n};\n\nexport default Login;\n\nexport const query = graphql`\n  query ($language: String!) {\n    locales: allLocale(filter: { language: { eq: $language } }) {\n      edges {\n        node {\n          ns\n          data\n          language\n        }\n      }\n    }\n  }\n`;\n\nconst styles = {\n  container:\n    \"bg-secondary p-8 rounded-lg shadow-md w-full max-w-md mx-auto\",\n  title: \"text-2xl font-bold mb-6 text-dark text-center\",\n  label: \"block text-dark font-medium\",\n  input:\n    \"w-full text-dark px-4 py-2 border border-terciary rounded-lg focus:outline-none focus:ring-2 focus:ring-primary\",\n  submitButton:\n    \"w-full bg-dark text-white py-2 px-4 rounded-lg hover:bg-terciary hover:text-dark transition\",\n  groupItem: \"mb-4\",\n  message: \"mt-4 text-center text-white font-medium\",\n};\n","import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport Layout from '../pages/layout';\nimport { Company } from \"../interfaces\";\nimport { db } from '../firebaseConfig';\nimport { doc, getDoc, setDoc } from 'firebase/firestore';\nimport data from \"../data/data.json\";\nimport { useNavigate } from 'react-router-dom';\nimport { signOut } from \"firebase/auth\";\nimport { auth } from \"../firebaseConfig\";\nimport { useTranslation } from \"gatsby-plugin-react-i18next\";\nimport { graphql } from 'gatsby';\n\nconst info: Company = data[0];\n\ninterface UserData {\n  email: string;\n  phone?: string;\n  address?: string;\n  postalCode?: string;\n  country?: string;\n  isApproved?: boolean;\n  role?: string;\n  timestamp: { seconds: number };\n}\n\nconst UserSpace = ( { pageContext }: { pageContext: any }) => {\n  const { useruid } = useParams();  // get the userId from URL\n  const [userData, setUserData] = useState<UserData | null>(null);  // to store user data from Firestore\n  const [answers, setAnswers] = useState<Record<string, string>>({}); // to store answers from the form\n  const navigate = useNavigate();\n\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    if (useruid) {\n      const fetchUserData = async () => {\n        const userDocRef = doc(db, 'users', useruid);\n        const userDoc = await getDoc(userDocRef);\n\n        if (userDoc.exists()) {\n          const docData = userDoc.data();\n          setUserData({\n            email: docData?.email || '',\n            phone: docData?.phone,\n            address: docData?.address,\n            postalCode: docData?.postalCode,\n            country: docData?.country,\n            isApproved: docData?.isApproved ?? false,\n            role: docData?.role ?? '',\n            timestamp: docData?.timestamp || { seconds: 0 },\n          });\n        } else {\n          console.log('No such document!');\n        }\n      };\n\n      fetchUserData();\n    }\n  }, [useruid]);\n\n  const handleAnswerChange = (e: React.ChangeEvent<HTMLInputElement>, question: string) => {\n    setAnswers((prevAnswers) => ({\n      ...prevAnswers,\n      [question]: e.target.value,\n    }));\n  };\n\n  const handleSubmit = async () => {\n    if (useruid && userData) {\n      const userDocRef = doc(db, 'users', useruid);\n      await setDoc(userDocRef, { ...userData, ...answers }, { merge: true });\n    }\n  };\n\n  const handleLogout = async () => {\n    try {\n      await signOut(auth);\n      navigate(\"/\");\n    } catch (error) {\n      console.error(\"Error al cerrar sesión:\", error);\n      alert(\"Error al cerrar sesión. Intenta nuevamente.\");\n    }\n  };\n\n  return (\n    <Layout data={info}>\n      <div className=\"p-6 bg-gray-100 rounded-lg shadow-md text-dark\">\n        <h1 className=\"text-2xl font-bold mb-4\">{t(\"userInfo.title\")}</h1>\n        {userData ? (\n          <>\n            <p><strong>{t(\"email\")}:</strong> {userData.email}</p>\n            {userData.phone && <p><strong>{t(\"phone\")}:</strong> {userData.phone}</p>}\n            {userData.address && <p><strong>{t(\"address\")}:</strong> {userData.address}</p>}\n            {userData.postalCode && <p><strong>{t(\"postal\")}:</strong> {userData.postalCode}</p>}\n            {userData.country && <p><strong>{t(\"country\")}:</strong> {userData.country}</p>}\n            {userData.isApproved && <p><strong>{t(\"status\")}:</strong> {userData.isApproved ? t(\"approved\") : t(\"pending\")}</p>}\n            {userData.role && <p><strong>{t(\"role\")}:</strong> {userData.role}</p>}\n            <p><strong>{t(\"joinedOn\")}:</strong> {new Date(userData.timestamp.seconds * 1000).toLocaleDateString()}</p>\n          </>\n        ) : (\n          <p>{t(\"userInfoLoading\")}</p>\n        )}\n\n        <form onSubmit={e => { e.preventDefault(); handleSubmit(); }} className=\"mt-6\">\n          <div className=\"mb-4\">\n            <label htmlFor=\"question1\" className=\"block text-sm font-semibold text-gray-700\">{t(\"userInfo.question1\")}</label>\n            <input\n              type=\"text\"\n              id=\"question1\"\n              className=\"mt-1 p-2 w-full border border-gray-300 rounded\"\n              onChange={(e) => handleAnswerChange(e, 'question1')}\n            />\n          </div>\n          <div className=\"mb-4\">\n            <label htmlFor=\"question2\" className=\"block text-sm font-semibold text-gray-700\">{t(\"userInfo.question2\")}</label>\n            <input\n              type=\"text\"\n              id=\"question2\"\n              className=\"mt-1 p-2 w-full border border-gray-300 rounded\"\n              onChange={(e) => handleAnswerChange(e, 'question2')}\n            />\n          </div>\n          <div className=\"mb-4\">\n            <label htmlFor=\"question3\" className=\"block text-sm font-semibold text-gray-700\">{t(\"userInfo.question3\")}</label>\n            <input\n              type=\"text\"\n              id=\"question3\"\n              className=\"mt-1 p-2 w-full border border-gray-300 rounded\"\n              onChange={(e) => handleAnswerChange(e, 'question3')}\n            />\n          </div>\n\n          <button type=\"submit\" className=\"bg-dark text-white p-2 rounded\">{t(\"submit\")}</button>\n        </form>\n\n        <button onClick={handleLogout} className=\"mt-4 bg-red-500 text-white p-2 rounded\">{t(\"logout\")}</button>\n      </div>\n    </Layout>\n  );\n};\n\nexport default UserSpace;\n","import React, { useEffect, useState } from \"react\";\nimport { navigate } from \"gatsby\";\nimport { auth, db } from \"../firebaseConfig\";\nimport { doc, getDoc } from \"firebase/firestore\";\n\nconst ProtectedRoute = ({ children }: { children: React.ReactNode }) => {\n  const [loading, setLoading] = useState(true);\n  const [isAllowed, setIsAllowed] = useState(false);\n\n  useEffect(() => {\n    const checkApproval = async () => {\n      const user = auth.currentUser;\n      if (!user) {\n        navigate(\"/login\" as unknown as number); // Redirige al inicio de sesión si no hay usuario\n        return;\n      }\n      try {\n        const userDoc = await getDoc(doc(db, \"users\", String(user.uid))); // Asegúrate de convertir user.uid a string\n        if (userDoc.exists() && Boolean(userDoc.data()?.isApproved)) {\n          setIsAllowed(true);\n        } else {\n          navigate(\"/not-approved\" as unknown as number); // Redirige si el usuario no está aprobado\n        }\n      } catch (error) {\n        console.error(\"Error al verificar la aprobación del usuario:\", error);\n        navigate(\"/login\" as unknown as number); // Redirige en caso de error\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    checkApproval();\n  }, [navigate]);\n\n  if (loading) return <p>Cargando...</p>;\n  if (!isAllowed) return null;\n\n  return <>{children}</>;\n};\n\nexport default ProtectedRoute;\n","import React from \"react\";\nimport UserSpace from \"../../templates/UserSpace\";\nimport { graphql } from \"gatsby\";\nimport { BrowserRouter, Route, Routes } from \"react-router-dom\";\nimport ProtectedRoute from \"../../components/protectedRoute\";\nimport Login from \"../login\";\n\ninterface UserPageProps {\n  useruid: string;\n  language: string;\n  locales: {\n    ns: string;\n    data: string;\n    language: string;\n  }[];\n}\n\nconst UserPage = ({ pageContext }: { pageContext: UserPageProps }) => {\n  return (\n    <ProtectedRoute>\n      <BrowserRouter>\n        <Routes>\n          <Route path=\"/\" element={<Login />} />\n          <Route path=\"/user/:useruid\" element={<UserSpace pageContext={pageContext} />} />\n        </Routes>\n      </BrowserRouter>\n    </ProtectedRoute>\n  );\n};\n\nexport default UserPage;\n\nexport const query = graphql`\n  query ($language: String!) {\n    locales: allLocale(filter: { language: { eq: $language } }) {\n      edges {\n        node {\n          ns\n          data\n          language\n        }\n      }\n    }\n  }\n`;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parse = parse;\nexports.serialize = serialize;\n/**\n * RegExp to match cookie-name in RFC 6265 sec 4.1.1\n * This refers out to the obsoleted definition of token in RFC 2616 sec 2.2\n * which has been replaced by the token definition in RFC 7230 appendix B.\n *\n * cookie-name       = token\n * token             = 1*tchar\n * tchar             = \"!\" / \"#\" / \"$\" / \"%\" / \"&\" / \"'\" /\n *                     \"*\" / \"+\" / \"-\" / \".\" / \"^\" / \"_\" /\n *                     \"`\" / \"|\" / \"~\" / DIGIT / ALPHA\n *\n * Note: Allowing more characters - https://github.com/jshttp/cookie/issues/191\n * Allow same range as cookie value, except `=`, which delimits end of name.\n */\nconst cookieNameRegExp = /^[\\u0021-\\u003A\\u003C\\u003E-\\u007E]+$/;\n/**\n * RegExp to match cookie-value in RFC 6265 sec 4.1.1\n *\n * cookie-value      = *cookie-octet / ( DQUOTE *cookie-octet DQUOTE )\n * cookie-octet      = %x21 / %x23-2B / %x2D-3A / %x3C-5B / %x5D-7E\n *                     ; US-ASCII characters excluding CTLs,\n *                     ; whitespace DQUOTE, comma, semicolon,\n *                     ; and backslash\n *\n * Allowing more characters: https://github.com/jshttp/cookie/issues/191\n * Comma, backslash, and DQUOTE are not part of the parsing algorithm.\n */\nconst cookieValueRegExp = /^[\\u0021-\\u003A\\u003C-\\u007E]*$/;\n/**\n * RegExp to match domain-value in RFC 6265 sec 4.1.1\n *\n * domain-value      = <subdomain>\n *                     ; defined in [RFC1034], Section 3.5, as\n *                     ; enhanced by [RFC1123], Section 2.1\n * <subdomain>       = <label> | <subdomain> \".\" <label>\n * <label>           = <let-dig> [ [ <ldh-str> ] <let-dig> ]\n *                     Labels must be 63 characters or less.\n *                     'let-dig' not 'letter' in the first char, per RFC1123\n * <ldh-str>         = <let-dig-hyp> | <let-dig-hyp> <ldh-str>\n * <let-dig-hyp>     = <let-dig> | \"-\"\n * <let-dig>         = <letter> | <digit>\n * <letter>          = any one of the 52 alphabetic characters A through Z in\n *                     upper case and a through z in lower case\n * <digit>           = any one of the ten digits 0 through 9\n *\n * Keep support for leading dot: https://github.com/jshttp/cookie/issues/173\n *\n * > (Note that a leading %x2E (\".\"), if present, is ignored even though that\n * character is not permitted, but a trailing %x2E (\".\"), if present, will\n * cause the user agent to ignore the attribute.)\n */\nconst domainValueRegExp = /^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i;\n/**\n * RegExp to match path-value in RFC 6265 sec 4.1.1\n *\n * path-value        = <any CHAR except CTLs or \";\">\n * CHAR              = %x01-7F\n *                     ; defined in RFC 5234 appendix B.1\n */\nconst pathValueRegExp = /^[\\u0020-\\u003A\\u003D-\\u007E]*$/;\nconst __toString = Object.prototype.toString;\nconst NullObject = /* @__PURE__ */ (() => {\n    const C = function () { };\n    C.prototype = Object.create(null);\n    return C;\n})();\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n */\nfunction parse(str, options) {\n    const obj = new NullObject();\n    const len = str.length;\n    // RFC 6265 sec 4.1.1, RFC 2616 2.2 defines a cookie name consists of one char minimum, plus '='.\n    if (len < 2)\n        return obj;\n    const dec = options?.decode || decode;\n    let index = 0;\n    do {\n        const eqIdx = str.indexOf(\"=\", index);\n        if (eqIdx === -1)\n            break; // No more cookie pairs.\n        const colonIdx = str.indexOf(\";\", index);\n        const endIdx = colonIdx === -1 ? len : colonIdx;\n        if (eqIdx > endIdx) {\n            // backtrack on prior semicolon\n            index = str.lastIndexOf(\";\", eqIdx - 1) + 1;\n            continue;\n        }\n        const keyStartIdx = startIndex(str, index, eqIdx);\n        const keyEndIdx = endIndex(str, eqIdx, keyStartIdx);\n        const key = str.slice(keyStartIdx, keyEndIdx);\n        // only assign once\n        if (obj[key] === undefined) {\n            let valStartIdx = startIndex(str, eqIdx + 1, endIdx);\n            let valEndIdx = endIndex(str, endIdx, valStartIdx);\n            const value = dec(str.slice(valStartIdx, valEndIdx));\n            obj[key] = value;\n        }\n        index = endIdx + 1;\n    } while (index < len);\n    return obj;\n}\nfunction startIndex(str, index, max) {\n    do {\n        const code = str.charCodeAt(index);\n        if (code !== 0x20 /*   */ && code !== 0x09 /* \\t */)\n            return index;\n    } while (++index < max);\n    return max;\n}\nfunction endIndex(str, index, min) {\n    while (index > min) {\n        const code = str.charCodeAt(--index);\n        if (code !== 0x20 /*   */ && code !== 0x09 /* \\t */)\n            return index + 1;\n    }\n    return min;\n}\n/**\n * Serialize data into a cookie header.\n *\n * Serialize a name value pair into a cookie string suitable for\n * http headers. An optional options object specifies cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n */\nfunction serialize(name, val, options) {\n    const enc = options?.encode || encodeURIComponent;\n    if (!cookieNameRegExp.test(name)) {\n        throw new TypeError(`argument name is invalid: ${name}`);\n    }\n    const value = enc(val);\n    if (!cookieValueRegExp.test(value)) {\n        throw new TypeError(`argument val is invalid: ${val}`);\n    }\n    let str = name + \"=\" + value;\n    if (!options)\n        return str;\n    if (options.maxAge !== undefined) {\n        if (!Number.isInteger(options.maxAge)) {\n            throw new TypeError(`option maxAge is invalid: ${options.maxAge}`);\n        }\n        str += \"; Max-Age=\" + options.maxAge;\n    }\n    if (options.domain) {\n        if (!domainValueRegExp.test(options.domain)) {\n            throw new TypeError(`option domain is invalid: ${options.domain}`);\n        }\n        str += \"; Domain=\" + options.domain;\n    }\n    if (options.path) {\n        if (!pathValueRegExp.test(options.path)) {\n            throw new TypeError(`option path is invalid: ${options.path}`);\n        }\n        str += \"; Path=\" + options.path;\n    }\n    if (options.expires) {\n        if (!isDate(options.expires) ||\n            !Number.isFinite(options.expires.valueOf())) {\n            throw new TypeError(`option expires is invalid: ${options.expires}`);\n        }\n        str += \"; Expires=\" + options.expires.toUTCString();\n    }\n    if (options.httpOnly) {\n        str += \"; HttpOnly\";\n    }\n    if (options.secure) {\n        str += \"; Secure\";\n    }\n    if (options.partitioned) {\n        str += \"; Partitioned\";\n    }\n    if (options.priority) {\n        const priority = typeof options.priority === \"string\"\n            ? options.priority.toLowerCase()\n            : undefined;\n        switch (priority) {\n            case \"low\":\n                str += \"; Priority=Low\";\n                break;\n            case \"medium\":\n                str += \"; Priority=Medium\";\n                break;\n            case \"high\":\n                str += \"; Priority=High\";\n                break;\n            default:\n                throw new TypeError(`option priority is invalid: ${options.priority}`);\n        }\n    }\n    if (options.sameSite) {\n        const sameSite = typeof options.sameSite === \"string\"\n            ? options.sameSite.toLowerCase()\n            : options.sameSite;\n        switch (sameSite) {\n            case true:\n            case \"strict\":\n                str += \"; SameSite=Strict\";\n                break;\n            case \"lax\":\n                str += \"; SameSite=Lax\";\n                break;\n            case \"none\":\n                str += \"; SameSite=None\";\n                break;\n            default:\n                throw new TypeError(`option sameSite is invalid: ${options.sameSite}`);\n        }\n    }\n    return str;\n}\n/**\n * URL-decode string value. Optimized to skip native call when no %.\n */\nfunction decode(str) {\n    if (str.indexOf(\"%\") === -1)\n        return str;\n    try {\n        return decodeURIComponent(str);\n    }\n    catch (e) {\n        return str;\n    }\n}\n/**\n * Determine if value is a Date.\n */\nfunction isDate(val) {\n    return __toString.call(val) === \"[object Date]\";\n}\n//# sourceMappingURL=index.js.map"],"names":["info","data","Login","email","setEmail","useState","password","setPassword","error","setError","t","useTranslation","React","Layout","className","onSubmit","async","e","preventDefault","user","signInWithEmailAndPassword","auth","navigate","uid","message","styles","container","id","title","groupItem","htmlFor","label","type","placeholder","value","onChange","target","required","input","submitButton","_ref","pageContext","useruid","useParams","userData","setUserData","answers","setAnswers","useNavigate","useEffect","userDocRef","doc","db","userDoc","getDoc","exists","_docData$isApproved","_docData$role","docData","phone","address","postalCode","country","isApproved","role","timestamp","seconds","console","log","fetchUserData","handleAnswerChange","question","prevAnswers","Date","toLocaleDateString","setDoc","merge","handleSubmit","onClick","signOut","alert","children","loading","setLoading","isAllowed","setIsAllowed","currentUser","_userDoc$data","String","Boolean","checkApproval","ProtectedRoute","BrowserRouter","Routes","Route","path","element","UserSpace","cookieNameRegExp","cookieValueRegExp","domainValueRegExp","pathValueRegExp","__toString","Object","prototype","toString","NullObject","C","create","startIndex","str","index","max","code","charCodeAt","endIndex","min","decode","indexOf","decodeURIComponent"],"sourceRoot":""}