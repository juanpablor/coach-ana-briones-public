"use strict";(self.webpackChunkcoach_ana_briones=self.webpackChunkcoach_ana_briones||[]).push([[626,696],{3652:function(e,t,a){a.r(t);var n=a(6540),r=a(8693),l=a(4959),o=a(2794),s=a(1142);const c=a(8526)[0];t.default=()=>{const{0:e,1:t}=(0,n.useState)(""),{0:a,1:i}=(0,n.useState)(""),{0:m,1:d}=(0,n.useState)("");return n.createElement(s.default,{data:c},n.createElement("div",null,n.createElement("form",{onSubmit:async t=>{t.preventDefault();try{const t=(await(0,l.x9)(o.j,e,a)).user;(0,r.navigate)("/user/"+t.uid)}catch(m){postMessage(m.message)}},className:u.container,id:"login"},n.createElement("h1",{className:u.title},"Iniciar Sesión"),n.createElement("div",{className:u.groupItem},n.createElement("label",{htmlFor:"email",className:u.label},"Email"),n.createElement("input",{type:"email",id:"email",placeholder:"Correo Electrónico",value:e,onChange:e=>t(e.target.value),required:!0,className:u.input})),n.createElement("div",{className:u.groupItem},n.createElement("label",{htmlFor:"password",className:u.label},"Contraseña"),n.createElement("input",{type:"password",id:"password",placeholder:"Contraseña",value:a,onChange:e=>i(e.target.value),className:u.input,required:!0})),n.createElement("div",{className:u.groupItem},n.createElement("button",{className:u.submitButton,type:"submit"},"Iniciar Sesión"))),m&&n.createElement("p",{className:u.message},m)))};const u={container:"bg-secondary p-8 rounded-lg shadow-md w-full max-w-md mx-auto my-8",title:"text-2xl font-bold mb-6 text-dark text-center",label:"block text-dark font-medium",input:"w-full text-dark px-4 py-2 border border-terciary rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",submitButton:"w-full bg-dark text-white py-2 px-4 rounded-lg hover:bg-terciary hover:text-dark transition",groupItem:"mb-4",message:"mt-4 text-center text-dark font-medium"}},7763:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});var n=a(6540),r=a(2562),l=a(1142),o=a(2794),s=a(2405),c=a(8526),u=a(4959),i=a(4755);const m=c[0];var d=e=>{let{pageContext:t}=e;const{useruid:a}=(0,r.g)(),{0:c,1:d}=(0,n.useState)(null),{0:p,1:g}=(0,n.useState)({}),E=(0,r.Zp)(),{t:b}=(0,i.useTranslation)();(0,n.useEffect)((()=>{if(a){(async()=>{const e=(0,s.H9)(o.db,"users",a),t=await(0,s.x7)(e);if(t.exists()){var n,r;const e=t.data();d({email:(null==e?void 0:e.email)||"",phone:null==e?void 0:e.phone,address:null==e?void 0:e.address,postalCode:null==e?void 0:e.postalCode,country:null==e?void 0:e.country,isApproved:null!==(n=null==e?void 0:e.isApproved)&&void 0!==n&&n,role:null!==(r=null==e?void 0:e.role)&&void 0!==r?r:"",timestamp:(null==e?void 0:e.timestamp)||{seconds:0}})}else console.log("No such document!")})()}}),[a]);const h=(e,t)=>{g((a=>Object.assign({},a,{[t]:e.target.value})))};return n.createElement(l.default,{data:m},n.createElement("div",{className:"p-6 bg-gray-100 rounded-lg shadow-md text-dark"},n.createElement("h1",{className:"text-2xl font-bold mb-4"},"User Information"),c?n.createElement(n.Fragment,null,n.createElement("p",null,n.createElement("strong",null,b("Email"),":")," ",c.email),c.phone&&n.createElement("p",null,n.createElement("strong",null,b("Phone"),":")," ",c.phone),c.address&&n.createElement("p",null,n.createElement("strong",null,b("Address"),":")," ",c.address),c.postalCode&&n.createElement("p",null,n.createElement("strong",null,b("Postal"),":")," ",c.postalCode),c.country&&n.createElement("p",null,n.createElement("strong",null,b("Country"),":")," ",c.country),c.isApproved&&n.createElement("p",null,n.createElement("strong",null,b("Status"),":")," ",c.isApproved?b("approved"):b("pending")),c.role&&n.createElement("p",null,n.createElement("strong",null,b("Role"),":")," ",c.role),n.createElement("p",null,n.createElement("strong",null,b("JoinedOn"),":")," ",new Date(1e3*c.timestamp.seconds).toLocaleDateString())):n.createElement("p",null,"Loading..."),n.createElement("form",{onSubmit:e=>{e.preventDefault(),(async()=>{if(a&&c){const e=(0,s.H9)(o.db,"users",a);await(0,s.BN)(e,Object.assign({},c,p),{merge:!0})}})()},className:"mt-6"},n.createElement("div",{className:"mb-4"},n.createElement("label",{htmlFor:"question1",className:"block text-sm font-semibold text-gray-700"},"Question 1:"),n.createElement("input",{type:"text",id:"question1",className:"mt-1 p-2 w-full border border-gray-300 rounded",onChange:e=>h(e,"question1")})),n.createElement("div",{className:"mb-4"},n.createElement("label",{htmlFor:"question2",className:"block text-sm font-semibold text-gray-700"},"Question 2:"),n.createElement("input",{type:"text",id:"question2",className:"mt-1 p-2 w-full border border-gray-300 rounded",onChange:e=>h(e,"question2")})),n.createElement("div",{className:"mb-4"},n.createElement("label",{htmlFor:"question3",className:"block text-sm font-semibold text-gray-700"},"Question 3:"),n.createElement("input",{type:"text",id:"question3",className:"mt-1 p-2 w-full border border-gray-300 rounded",onChange:e=>h(e,"question3")})),n.createElement("button",{type:"submit",className:"bg-dark text-white p-2 rounded"},"Submit Answers")),n.createElement("button",{onClick:async()=>{try{await(0,u.CI)(o.j),E("/")}catch(e){console.error("Error al cerrar sesión:",e),alert("Error al cerrar sesión. Intenta nuevamente.")}},className:"mt-4 bg-red-500 text-white p-2 rounded"},"Logout")))},p=a(8693);var g=e=>{let{children:t}=e;const{0:a,1:r}=(0,n.useState)(!0),{0:l,1:c}=(0,n.useState)(!1);return(0,n.useEffect)((()=>{(async()=>{const e=o.j.currentUser;if(e)try{var t;const a=await(0,s.x7)((0,s.H9)(o.db,"users",String(e.uid)));a.exists()&&Boolean(null===(t=a.data())||void 0===t?void 0:t.isApproved)?c(!0):(0,p.navigate)("/not-approved")}catch(a){console.error("Error al verificar la aprobación del usuario:",a),(0,p.navigate)("/login")}finally{r(!1)}else(0,p.navigate)("/login")})()}),[p.navigate]),a?n.createElement("p",null,"Cargando..."):l?n.createElement(n.Fragment,null,t):null},E=a(3652);var b=e=>{let{pageContext:t}=e;return n.createElement(g,null,n.createElement(r.Kd,null,n.createElement(r.BV,null,n.createElement(r.qh,{path:"/",element:n.createElement(E.default,null)}),n.createElement(r.qh,{path:"/user/:useruid",element:n.createElement(d,{pageContext:t})}))))}},6069:function(e,t){const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,n=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,l=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,s=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function c(e,t,a){do{const a=e.charCodeAt(t);if(32!==a&&9!==a)return t}while(++t<a);return a}function u(e,t,a){for(;t>a;){const a=e.charCodeAt(--t);if(32!==a&&9!==a)return t+1}return a}function i(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},8526:function(e){e.exports=JSON.parse('[{"companyName":"Coach Ana Briones","address":"P.º de las Fuentes","city":"Irapuato","province":"Guanajuato","country":"Mexico","postalCode":"36670","phone":"+524624825283","email":"coach.anabriones@gmail.com","instagram":"https://www.instagram.com/coachanabriones/","facebook":"https://www.facebook.com/OilisticCommunity/","whatsapp":"https://wa.me/524624825283","tiktok":"https://www.tiktok.com/@coachanabriones","url":"https://coachanabriones.com/","menu":["services","whoIam","contact"]}]')}}]);
//# sourceMappingURL=component---src-pages-user-user-id-tsx-37b3a4af06e35577a87f.js.map