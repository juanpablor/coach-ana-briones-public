{"version":3,"file":"component---src-pages-user-user-id-tsx-37b3a4af06e35577a87f.js","mappings":"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","sources":["webpack://coach-ana-briones/./src/pages/login.tsx","webpack://coach-ana-briones/./src/templates/UserSpace.tsx","webpack://coach-ana-briones/./src/components/protectedRoute.tsx","webpack://coach-ana-briones/./src/pages/user/[userId].tsx","webpack://coach-ana-briones/./node_modules/react-router/node_modules/cookie/dist/index.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { graphql, navigate } from \"gatsby\";\nimport { signInWithEmailAndPassword } from \"firebase/auth\";\nimport { auth } from \"../firebaseConfig\";\nimport Layout from \"./layout\";\nimport { Company } from \"../interfaces\";\nimport data from \"../data/data.json\";\n\nconst info: Company = data[0];\n\nconst Login = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const handleLogin = async (e: React.SyntheticEvent) => {\n    e.preventDefault();\n    try {\n      const userCredential = await signInWithEmailAndPassword(auth, email, password);\n      const user = userCredential.user;\n      navigate(`/user/${user.uid}` as unknown as number);\n    } catch (error) {\n      postMessage((error as Error).message);\n    }\n  };\n  \n\n  return (\n    <Layout data={info}>\n\n    <div>\n      <form onSubmit={handleLogin} className={styles.container} id=\"login\">\n        <h1 className={styles.title}>Iniciar Sesión</h1>\n        <div className={styles.groupItem}>\n          <label htmlFor=\"email\" className={styles.label}>Email</label>\n            <input\n            type=\"email\"\n            id=\"email\"\n            placeholder=\"Correo Electrónico\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            required\n            className={styles.input}\n            />\n        </div>\n        <div className={styles.groupItem}>\n          <label htmlFor=\"password\" className={styles.label}>Contraseña</label>        \n            <input\n            type=\"password\"\n            id=\"password\"\n            placeholder=\"Contraseña\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            className={styles.input}\n            required\n            />\n          </div>\n          <div className={styles.groupItem}>\n            <button className={styles.submitButton} type=\"submit\">Iniciar Sesión</button>\n          </div>\n      </form>\n      {error && <p className={styles.message}>{error}</p>}\n    </div>\n</Layout>\n  );\n};\n\nexport default Login;\n\nexport const query = graphql`\n  query ($language: String!) {\n    locales: allLocale(filter: { language: { eq: $language } }) {\n      edges {\n        node {\n          ns\n          data\n          language\n        }\n      }\n    }\n  }\n`;\n\nconst styles = {\n    container: \"bg-secondary p-8 rounded-lg shadow-md w-full max-w-md mx-auto my-8\",\n    title: \"text-2xl font-bold mb-6 text-dark text-center\",\n    label: \"block text-dark font-medium\",\n    input: \"w-full text-dark px-4 py-2 border border-terciary rounded-lg focus:outline-none focus:ring-2 focus:ring-primary\",\n    submitButton: \"w-full bg-dark text-white py-2 px-4 rounded-lg hover:bg-terciary hover:text-dark transition\",\n    groupItem: \"mb-4\",\n    message: \"mt-4 text-center text-dark font-medium\"\n  };\n","import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport Layout from '../pages/layout';\nimport { Company } from \"../interfaces\";\nimport { db } from '../firebaseConfig';\nimport { doc, getDoc, setDoc } from 'firebase/firestore';\nimport data from \"../data/data.json\";\nimport { useNavigate } from 'react-router-dom';\nimport { signOut } from \"firebase/auth\";\nimport { auth } from \"../firebaseConfig\";\nimport { useTranslation } from \"gatsby-plugin-react-i18next\";\nimport { graphql } from 'gatsby';\n\nconst info: Company = data[0];\n\ninterface UserData {\n  email: string;\n  phone?: string;\n  address?: string;\n  postalCode?: string;\n  country?: string;\n  isApproved?: boolean;\n  role?: string;\n  timestamp: { seconds: number };\n}\n\nconst UserSpace = ( { pageContext }: { pageContext: any }) => {\n  const { useruid } = useParams();  // get the userId from URL\n  const [userData, setUserData] = useState<UserData | null>(null);  // to store user data from Firestore\n  const [answers, setAnswers] = useState<Record<string, string>>({}); // to store answers from the form\n  const navigate = useNavigate();\n\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    if (useruid) {\n      const fetchUserData = async () => {\n        const userDocRef = doc(db, 'users', useruid);\n        const userDoc = await getDoc(userDocRef);\n\n        if (userDoc.exists()) {\n          const docData = userDoc.data();\n          setUserData({\n            email: docData?.email || '',\n            phone: docData?.phone,\n            address: docData?.address,\n            postalCode: docData?.postalCode,\n            country: docData?.country,\n            isApproved: docData?.isApproved ?? false,\n            role: docData?.role ?? '',\n            timestamp: docData?.timestamp || { seconds: 0 },\n          });\n        } else {\n          console.log('No such document!');\n        }\n      };\n\n      fetchUserData();\n    }\n  }, [useruid]);\n\n  const handleAnswerChange = (e: React.ChangeEvent<HTMLInputElement>, question: string) => {\n    setAnswers((prevAnswers) => ({\n      ...prevAnswers,\n      [question]: e.target.value,\n    }));\n  };\n\n  const handleSubmit = async () => {\n    if (useruid && userData) {\n      const userDocRef = doc(db, 'users', useruid);\n      await setDoc(userDocRef, { ...userData, ...answers }, { merge: true });\n    }\n  };\n\n  const handleLogout = async () => {\n    try {\n      await signOut(auth);\n      navigate(\"/\");\n    } catch (error) {\n      console.error(\"Error al cerrar sesión:\", error);\n      alert(\"Error al cerrar sesión. Intenta nuevamente.\");\n    }\n  };\n\n  return (\n    <Layout data={info}>\n      <div className=\"p-6 bg-gray-100 rounded-lg shadow-md text-dark\">\n        <h1 className=\"text-2xl font-bold mb-4\">User Information</h1>\n        {userData ? (\n          <>\n            <p><strong>{t(\"Email\")}:</strong> {userData.email}</p>\n            {userData.phone && <p><strong>{t(\"Phone\")}:</strong> {userData.phone}</p>}\n            {userData.address && <p><strong>{t(\"Address\")}:</strong> {userData.address}</p>}\n            {userData.postalCode && <p><strong>{t(\"Postal\")}:</strong> {userData.postalCode}</p>}\n            {userData.country && <p><strong>{t(\"Country\")}:</strong> {userData.country}</p>}\n            {userData.isApproved && <p><strong>{t(\"Status\")}:</strong> {userData.isApproved ? t(\"approved\") : t(\"pending\")}</p>}\n            {userData.role && <p><strong>{t(\"Role\")}:</strong> {userData.role}</p>}\n            <p><strong>{t(\"JoinedOn\")}:</strong> {new Date(userData.timestamp.seconds * 1000).toLocaleDateString()}</p>\n          </>\n        ) : (\n          <p>Loading...</p>\n        )}\n\n        <form onSubmit={e => { e.preventDefault(); handleSubmit(); }} className=\"mt-6\">\n          <div className=\"mb-4\">\n            <label htmlFor=\"question1\" className=\"block text-sm font-semibold text-gray-700\">Question 1:</label>\n            <input\n              type=\"text\"\n              id=\"question1\"\n              className=\"mt-1 p-2 w-full border border-gray-300 rounded\"\n              onChange={(e) => handleAnswerChange(e, 'question1')}\n            />\n          </div>\n          <div className=\"mb-4\">\n            <label htmlFor=\"question2\" className=\"block text-sm font-semibold text-gray-700\">Question 2:</label>\n            <input\n              type=\"text\"\n              id=\"question2\"\n              className=\"mt-1 p-2 w-full border border-gray-300 rounded\"\n              onChange={(e) => handleAnswerChange(e, 'question2')}\n            />\n          </div>\n          <div className=\"mb-4\">\n            <label htmlFor=\"question3\" className=\"block text-sm font-semibold text-gray-700\">Question 3:</label>\n            <input\n              type=\"text\"\n              id=\"question3\"\n              className=\"mt-1 p-2 w-full border border-gray-300 rounded\"\n              onChange={(e) => handleAnswerChange(e, 'question3')}\n            />\n          </div>\n\n          <button type=\"submit\" className=\"bg-dark text-white p-2 rounded\">Submit Answers</button>\n        </form>\n\n        <button onClick={handleLogout} className=\"mt-4 bg-red-500 text-white p-2 rounded\">Logout</button>\n      </div>\n    </Layout>\n  );\n};\n\nexport default UserSpace;\n","import React, { useEffect, useState } from \"react\";\nimport { navigate } from \"gatsby\";\nimport { auth, db } from \"../firebaseConfig\";\nimport { doc, getDoc } from \"firebase/firestore\";\n\nconst ProtectedRoute = ({ children }: { children: React.ReactNode }) => {\n  const [loading, setLoading] = useState(true);\n  const [isAllowed, setIsAllowed] = useState(false);\n\n  useEffect(() => {\n    const checkApproval = async () => {\n      const user = auth.currentUser;\n      if (!user) {\n        navigate(\"/login\" as unknown as number); // Redirige al inicio de sesión si no hay usuario\n        return;\n      }\n      try {\n        const userDoc = await getDoc(doc(db, \"users\", String(user.uid))); // Asegúrate de convertir user.uid a string\n        if (userDoc.exists() && Boolean(userDoc.data()?.isApproved)) {\n          setIsAllowed(true);\n        } else {\n          navigate(\"/not-approved\" as unknown as number); // Redirige si el usuario no está aprobado\n        }\n      } catch (error) {\n        console.error(\"Error al verificar la aprobación del usuario:\", error);\n        navigate(\"/login\" as unknown as number); // Redirige en caso de error\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    checkApproval();\n  }, [navigate]);\n\n  if (loading) return <p>Cargando...</p>;\n  if (!isAllowed) return null;\n\n  return <>{children}</>;\n};\n\nexport default ProtectedRoute;\n","import React from \"react\";\nimport UserSpace from \"../../templates/UserSpace\";\nimport { graphql } from \"gatsby\";\nimport { BrowserRouter, Route, Routes } from \"react-router-dom\";\nimport ProtectedRoute from \"../../components/protectedRoute\";\nimport Login from \"../login\";\n\ninterface UserPageProps {\n  useruid: string;\n  language: string;\n  locales: {\n    ns: string;\n    data: string;\n    language: string;\n  }[];\n}\n\nconst UserPage = ({ pageContext }: { pageContext: UserPageProps }) => {\n  return (\n    <ProtectedRoute>\n      <BrowserRouter>\n        <Routes>\n          <Route path=\"/\" element={<Login />} />\n          <Route path=\"/user/:useruid\" element={<UserSpace pageContext={pageContext} />} />\n        </Routes>\n      </BrowserRouter>\n    </ProtectedRoute>\n  );\n};\n\nexport default UserPage;\n\nexport const query = graphql`\n  query ($language: String!) {\n    locales: allLocale(filter: { language: { eq: $language } }) {\n      edges {\n        node {\n          ns\n          data\n          language\n        }\n      }\n    }\n  }\n`;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parse = parse;\nexports.serialize = serialize;\n/**\n * RegExp to match cookie-name in RFC 6265 sec 4.1.1\n * This refers out to the obsoleted definition of token in RFC 2616 sec 2.2\n * which has been replaced by the token definition in RFC 7230 appendix B.\n *\n * cookie-name       = token\n * token             = 1*tchar\n * tchar             = \"!\" / \"#\" / \"$\" / \"%\" / \"&\" / \"'\" /\n *                     \"*\" / \"+\" / \"-\" / \".\" / \"^\" / \"_\" /\n *                     \"`\" / \"|\" / \"~\" / DIGIT / ALPHA\n *\n * Note: Allowing more characters - https://github.com/jshttp/cookie/issues/191\n * Allow same range as cookie value, except `=`, which delimits end of name.\n */\nconst cookieNameRegExp = /^[\\u0021-\\u003A\\u003C\\u003E-\\u007E]+$/;\n/**\n * RegExp to match cookie-value in RFC 6265 sec 4.1.1\n *\n * cookie-value      = *cookie-octet / ( DQUOTE *cookie-octet DQUOTE )\n * cookie-octet      = %x21 / %x23-2B / %x2D-3A / %x3C-5B / %x5D-7E\n *                     ; US-ASCII characters excluding CTLs,\n *                     ; whitespace DQUOTE, comma, semicolon,\n *                     ; and backslash\n *\n * Allowing more characters: https://github.com/jshttp/cookie/issues/191\n * Comma, backslash, and DQUOTE are not part of the parsing algorithm.\n */\nconst cookieValueRegExp = /^[\\u0021-\\u003A\\u003C-\\u007E]*$/;\n/**\n * RegExp to match domain-value in RFC 6265 sec 4.1.1\n *\n * domain-value      = <subdomain>\n *                     ; defined in [RFC1034], Section 3.5, as\n *                     ; enhanced by [RFC1123], Section 2.1\n * <subdomain>       = <label> | <subdomain> \".\" <label>\n * <label>           = <let-dig> [ [ <ldh-str> ] <let-dig> ]\n *                     Labels must be 63 characters or less.\n *                     'let-dig' not 'letter' in the first char, per RFC1123\n * <ldh-str>         = <let-dig-hyp> | <let-dig-hyp> <ldh-str>\n * <let-dig-hyp>     = <let-dig> | \"-\"\n * <let-dig>         = <letter> | <digit>\n * <letter>          = any one of the 52 alphabetic characters A through Z in\n *                     upper case and a through z in lower case\n * <digit>           = any one of the ten digits 0 through 9\n *\n * Keep support for leading dot: https://github.com/jshttp/cookie/issues/173\n *\n * > (Note that a leading %x2E (\".\"), if present, is ignored even though that\n * character is not permitted, but a trailing %x2E (\".\"), if present, will\n * cause the user agent to ignore the attribute.)\n */\nconst domainValueRegExp = /^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i;\n/**\n * RegExp to match path-value in RFC 6265 sec 4.1.1\n *\n * path-value        = <any CHAR except CTLs or \";\">\n * CHAR              = %x01-7F\n *                     ; defined in RFC 5234 appendix B.1\n */\nconst pathValueRegExp = /^[\\u0020-\\u003A\\u003D-\\u007E]*$/;\nconst __toString = Object.prototype.toString;\nconst NullObject = /* @__PURE__ */ (() => {\n    const C = function () { };\n    C.prototype = Object.create(null);\n    return C;\n})();\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n */\nfunction parse(str, options) {\n    const obj = new NullObject();\n    const len = str.length;\n    // RFC 6265 sec 4.1.1, RFC 2616 2.2 defines a cookie name consists of one char minimum, plus '='.\n    if (len < 2)\n        return obj;\n    const dec = options?.decode || decode;\n    let index = 0;\n    do {\n        const eqIdx = str.indexOf(\"=\", index);\n        if (eqIdx === -1)\n            break; // No more cookie pairs.\n        const colonIdx = str.indexOf(\";\", index);\n        const endIdx = colonIdx === -1 ? len : colonIdx;\n        if (eqIdx > endIdx) {\n            // backtrack on prior semicolon\n            index = str.lastIndexOf(\";\", eqIdx - 1) + 1;\n            continue;\n        }\n        const keyStartIdx = startIndex(str, index, eqIdx);\n        const keyEndIdx = endIndex(str, eqIdx, keyStartIdx);\n        const key = str.slice(keyStartIdx, keyEndIdx);\n        // only assign once\n        if (obj[key] === undefined) {\n            let valStartIdx = startIndex(str, eqIdx + 1, endIdx);\n            let valEndIdx = endIndex(str, endIdx, valStartIdx);\n            const value = dec(str.slice(valStartIdx, valEndIdx));\n            obj[key] = value;\n        }\n        index = endIdx + 1;\n    } while (index < len);\n    return obj;\n}\nfunction startIndex(str, index, max) {\n    do {\n        const code = str.charCodeAt(index);\n        if (code !== 0x20 /*   */ && code !== 0x09 /* \\t */)\n            return index;\n    } while (++index < max);\n    return max;\n}\nfunction endIndex(str, index, min) {\n    while (index > min) {\n        const code = str.charCodeAt(--index);\n        if (code !== 0x20 /*   */ && code !== 0x09 /* \\t */)\n            return index + 1;\n    }\n    return min;\n}\n/**\n * Serialize data into a cookie header.\n *\n * Serialize a name value pair into a cookie string suitable for\n * http headers. An optional options object specifies cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n */\nfunction serialize(name, val, options) {\n    const enc = options?.encode || encodeURIComponent;\n    if (!cookieNameRegExp.test(name)) {\n        throw new TypeError(`argument name is invalid: ${name}`);\n    }\n    const value = enc(val);\n    if (!cookieValueRegExp.test(value)) {\n        throw new TypeError(`argument val is invalid: ${val}`);\n    }\n    let str = name + \"=\" + value;\n    if (!options)\n        return str;\n    if (options.maxAge !== undefined) {\n        if (!Number.isInteger(options.maxAge)) {\n            throw new TypeError(`option maxAge is invalid: ${options.maxAge}`);\n        }\n        str += \"; Max-Age=\" + options.maxAge;\n    }\n    if (options.domain) {\n        if (!domainValueRegExp.test(options.domain)) {\n            throw new TypeError(`option domain is invalid: ${options.domain}`);\n        }\n        str += \"; Domain=\" + options.domain;\n    }\n    if (options.path) {\n        if (!pathValueRegExp.test(options.path)) {\n            throw new TypeError(`option path is invalid: ${options.path}`);\n        }\n        str += \"; Path=\" + options.path;\n    }\n    if (options.expires) {\n        if (!isDate(options.expires) ||\n            !Number.isFinite(options.expires.valueOf())) {\n            throw new TypeError(`option expires is invalid: ${options.expires}`);\n        }\n        str += \"; Expires=\" + options.expires.toUTCString();\n    }\n    if (options.httpOnly) {\n        str += \"; HttpOnly\";\n    }\n    if (options.secure) {\n        str += \"; Secure\";\n    }\n    if (options.partitioned) {\n        str += \"; Partitioned\";\n    }\n    if (options.priority) {\n        const priority = typeof options.priority === \"string\"\n            ? options.priority.toLowerCase()\n            : undefined;\n        switch (priority) {\n            case \"low\":\n                str += \"; Priority=Low\";\n                break;\n            case \"medium\":\n                str += \"; Priority=Medium\";\n                break;\n            case \"high\":\n                str += \"; Priority=High\";\n                break;\n            default:\n                throw new TypeError(`option priority is invalid: ${options.priority}`);\n        }\n    }\n    if (options.sameSite) {\n        const sameSite = typeof options.sameSite === \"string\"\n            ? options.sameSite.toLowerCase()\n            : options.sameSite;\n        switch (sameSite) {\n            case true:\n            case \"strict\":\n                str += \"; SameSite=Strict\";\n                break;\n            case \"lax\":\n                str += \"; SameSite=Lax\";\n                break;\n            case \"none\":\n                str += \"; SameSite=None\";\n                break;\n            default:\n                throw new TypeError(`option sameSite is invalid: ${options.sameSite}`);\n        }\n    }\n    return str;\n}\n/**\n * URL-decode string value. Optimized to skip native call when no %.\n */\nfunction decode(str) {\n    if (str.indexOf(\"%\") === -1)\n        return str;\n    try {\n        return decodeURIComponent(str);\n    }\n    catch (e) {\n        return str;\n    }\n}\n/**\n * Determine if value is a Date.\n */\nfunction isDate(val) {\n    return __toString.call(val) === \"[object Date]\";\n}\n//# sourceMappingURL=index.js.map"],"names":["info","data","Login","email","setEmail","useState","password","setPassword","error","setError","React","Layout","onSubmit","async","e","preventDefault","user","signInWithEmailAndPassword","auth","navigate","uid","postMessage","message","className","styles","container","id","title","groupItem","htmlFor","label","type","placeholder","value","onChange","target","required","input","submitButton","_ref","pageContext","useruid","useParams","userData","setUserData","answers","setAnswers","useNavigate","t","useTranslation","useEffect","userDocRef","doc","db","userDoc","getDoc","exists","_docData$isApproved","_docData$role","docData","phone","address","postalCode","country","isApproved","role","timestamp","seconds","console","log","fetchUserData","handleAnswerChange","question","prevAnswers","Object","assign","Date","toLocaleDateString","setDoc","merge","handleSubmit","onClick","signOut","alert","children","loading","setLoading","isAllowed","setIsAllowed","currentUser","_userDoc$data","String","Boolean","checkApproval","ProtectedRoute","BrowserRouter","Routes","Route","path","element","UserSpace","cookieNameRegExp","cookieValueRegExp","domainValueRegExp","pathValueRegExp","__toString","prototype","toString","NullObject","C","create","startIndex","str","index","max","code","charCodeAt","endIndex","min","decode","indexOf","decodeURIComponent"],"sourceRoot":""}